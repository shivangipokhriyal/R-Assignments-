laply(baseball, is.factor)
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
lst <- lapply(y, data.table::fread)
dt <- rbindlist(lst)
return(dt[complete.cases(dt), .(nobs = .N), by = ID])
}
getwd()
dir()
setwd("C:/Users/comp/Documents/ R (Coursera files)")
setwd("C:/Users/comp/Documents/R (Coursera files)")
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
initial<- read.table( y)
classes<-sapply(initial,class)
initial
}
complete("specdata",2)
t<-complete("specdata",2)
t
class(t)
is.na(t)
bad<-is.na(t)
tg<-t[!bad]
tg
t
length(t)
dim(t)
dim(tg)
length(tg)
3653*2
t[2]
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.table( y[i])
classes<-sapply(initial,class)
taball<- read.table(y[i],colClasses= classes)
taball
}
}
complete("specdata",c(2,3))
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.table( y[i])
classes<-sapply(initial,class)
taball<- read.table(y[i],colClasses= classes)
print(taball)
}
}
complete("specdata",c(2,3))
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.table( y[i])
initial
}
}
complete("specdata",c(2,3))
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.table( y[i])
print(initial)
}
}
complete("specdata",c(2,3))
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.csv( y[i])
print(initial)
}
}
complete("specdata",c(3,4))
t<-complete("specdata",c(3,4))
dim(t)
t
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.csv( y[i])
data.frame(initial)
}
}
t<-complete("specdata",2)
t
dim(t)
class(t)
class(t)<-data.frame(t)
\complete("specdata",2)
complete("specdata",2)
print(data.frame(initial))
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
for(i in seq_along(y)){
initial<- read.csv( y[i])
print(data.frame(initial))
}
}
t<- complete("specdata",2)
t
a<-list(a,b,c)
a<-list("a","b","c")
b<-list(1,2,3)
cbind(a,b)
a<-list("a","b","c",NA)
complete.cases(a0
)
complete.cases(a)
a
is.na(a)
complete.cases(a)
complete.cases(a[4])
g<-is.na(a)
a[!g]
length(a[!g]}
length(a[!g])
lapply
rbindlist(a,b)
rbind(a,b)
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
filenames <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
files <- list.files("~/data", "\\.csv$", full.names = TRUE)
data <- lapply(files, fread, col.names = c("id", "name", "col1", "col2"), colClasses = c("integer", "character", "numeric", "numeric"))
data <- rbindlist(data)
print(data)
}
}
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
filenames <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
files <- list.files("~/data", "\\.csv$", full.names = TRUE)
data <- lapply(files, fread, col.names = c("id", "name", "col1", "col2"), colClasses = c("integer", "character", "numeric", "numeric"))
data <- rbindlist(data)
print(data)
}
complete("specdata",2)
sys.date
c<-sys.date()
c<-Sys.Date()
class(c)
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
filenames <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
files <- list.files("~/data", "\\.csv$", full.names = TRUE)
data <- lapply(files, colClasses = c("Date", "numeric", "numeric", "numeric"))
data <- rbindlist(data)
print(data)
}
cpmplete("specdata",2)
complete("specdata",2)
complete <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" ,id=1:332 ) {
filenames <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep="")
files <- list.files(filenames)
data <- lapply(files, colClasses = c("Date", "numeric", "numeric", "numeric"))
data <- rbindlist(data)
print(data)
}
complete("specdata",2)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating the location of
## the CSV files
## 'id' is an integer vector indicating the monitor ID numbers to be used
## Return a data frame of the form: id nobs 1 117 2 1041 ...  where 'id' is
## the monitor ID number and 'nobs' is the number of complete cases
nobs = numeric()
for (i in id) {
newRead = read.csv(paste(directory, "/", formatC(i, width = 3, flag = "0"),
".csv", sep = ""))
nobs = c(nobs, sum(complete.cases(newRead)))
}
return(data.frame(id, nobs))
}
complete("specdata",2)
pollutantmean <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata" , pollutant, id=2 ) {
y <- paste(directory, "/" ,formatC(id, width=3, flag='0'), ".csv", sep=""))
for (i in length(y))
print(data.frame(read.csv(y[i])))
}
pollutantmean <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata", pollutant, id=2 ) {
a<-formatC(id, width=3, flag='0')
y <- paste(directory, "/", a, ".csv", sep="")
for (i in seq_along(y)) {
df<-print(data.frame(read.csv(y[i])) )
df
}
}
pollutantmean("specdata", "sulfate", 1:10)
a
class(a)
unlist(a)
sum(a)
sum(complete.cases(a))
sum(is.na(a))
is.na(a)
sum(!is.na(a))
pollutantmean <- function(directory="D:/Shivangi (WORK)/R (Coursera files)/specdata", pollutant, id=2 ) {
data = numeric()
for (i in id) {
newRead = read.csv(paste(directory, "/", formatC(i, width = 3, flag = "0"),
".csv", sep = ""))
data = c(data, newRead[[pollutant]])
}
return(mean(data, na.rm = TRUE))
}
pollutantmean("specdata", "nitrate", 70:72)
corr <- function(directory, threshold = 0) {
df = complete(directory)
ids = df[df["nobs"] > threshold, ]$id
corrr = numeric()
for (i in ids) {
newRead = read.csv(paste(directory, "/", formatC(i, width = 3, flag = "0"),
".csv", sep = ""))
dff = newRead[complete.cases(newRead), ]
corrr = c(corrr, cor(dff$sulfate, dff$nitrate))
}
return(corrr)
}
cr <- corr("specdata", 150)
head(cr)
cr <- corr("specdata")
summary(cr)
summary(a)
a
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
RNGversion("3.5.1")
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
RNGversion("3.5.1")
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
pollutantmean("specdata", "nitrate")
pollutantmean("specdata", "nitrate",1:332)
q()
structure(list(a = 99, b = "c"), class = "data.frame", row.names = c(NA,
-1L))
